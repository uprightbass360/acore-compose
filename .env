# ==============================================
# AZEROTHCORE DATABASE LAYER ENVIRONMENT - LOCAL TESTING
# ==============================================
# Environment variables for local Docker testing

# ==============================================
# DATABASE CREDENTIALS (REQUIRED)
# ==============================================
MYSQL_ROOT_PASSWORD=azerothcore123

# Database connection settings
MYSQL_HOST=ac-mysql
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_ROOT_HOST=%

# Database names
DB_AUTH_NAME=acore_auth
DB_WORLD_NAME=acore_world
DB_CHARACTERS_NAME=acore_characters

# Database wait settings - Conservative for local testing
DB_WAIT_RETRIES=30
DB_WAIT_SLEEP=3

# ==============================================
# DOCKER IMAGES (REQUIRED)
# ==============================================
# Database layer images
AC_DB_IMPORT_IMAGE=acore/ac-wotlk-db-import:14.0.0-dev
MYSQL_IMAGE=mysql:8.0
ALPINE_IMAGE=alpine:latest

# ==============================================
# IMAGE PULL POLICY (REQUIRED)
# ==============================================
IMAGE_PULL_POLICY=if_not_present

# ==============================================
# MYSQL CONFIGURATION (REQUIRED)
# ==============================================
# MySQL server settings
MYSQL_CHARACTER_SET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci
MYSQL_MAX_CONNECTIONS=100
MYSQL_INNODB_BUFFER_POOL_SIZE=128M
MYSQL_INNODB_LOG_FILE_SIZE=32M

# MySQL health check settings - Local testing values
MYSQL_HEALTHCHECK_INTERVAL=10s
MYSQL_HEALTHCHECK_TIMEOUT=5s
MYSQL_HEALTHCHECK_RETRIES=10
MYSQL_HEALTHCHECK_START_PERIOD=30s

# ==============================================
# NETWORK CONFIGURATION (REQUIRED)
# ==============================================
# External database port
DOCKER_DB_EXTERNAL_PORT=64306

# ==============================================
# DEPLOYMENT CONFIGURATION (REQUIRED)
# ==============================================
# Storage configuration for local testing
STORAGE_PATH=./local-data

# ==============================================
# CONTAINER NAMES (REQUIRED)
# ==============================================
# Database layer container names
CONTAINER_MYSQL=ac-mysql
CONTAINER_DB_INIT=ac-db-init
CONTAINER_DB_IMPORT=ac-db-import
CONTAINER_BACKUP=ac-backup

# ==============================================
# NETWORK SETTINGS (REQUIRED)
# ==============================================
NETWORK_NAME=azerothcore
NETWORK_SUBNET=172.20.0.0/16
NETWORK_GATEWAY=172.20.0.1

# ==============================================
# BACKUP CONFIGURATION (REQUIRED)
# ==============================================
# Host volume paths for backup
HOST_BACKUP_PATH=./backups
HOST_BACKUP_SCRIPTS_PATH=./backup-scripts

# Backup settings
BACKUP_CRON_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=7

# ==============================================
# SERVER CONFIGURATION (REQUIRED)
# ==============================================
# Timezone
TZ=UTC